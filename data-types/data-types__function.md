# Функция

Главное назначение — избегание дублирования кода.

- Функция — это объект. Является значением, как строка или число (строку или число можно воспринимать как данные, а функцию — как действие).
- Функции можно передавать как аргумент в другие функции и возвращать как результат из других функций.
- Можно присваивать переменным (и свойствам объектов, в этом случае функцию называют «методом»).
- Переменные, объявленные внутри функции, видны только внутри. Глобальные переменные доступны внутри функции (лучше их не использовать).
- У каждого вызова функции есть контекст выполнения (служебные данные о локальных переменных и месте вызова).
- Параметры, переданные в функцию, копируются в локальные переменные функции (если параметр не передан, он `undefined`).
- Необязательные параметры при объявлении функции располагают в конце списка параметров.
- Если при вызове передано больше параметров, чем ожидалось, все «лишние» доступны в специальном объекте `arguments`.
- Как только выполнение доходит до `return`, функция завершается (без него или с пустым `return` возвращается `undefined`).
- В именовании используются глаголы.
- Одна функция — одно действие. И только оно.

```js
// Функция называется square, ожидает параметр, доступный внутри с именем number, возвращает квадрат переданного числа
function square(number) {
  return number * number;
}

// Параметры по умолчанию
function showMessage(text) {
  text = text || 'текст не передан'; // не годится, если ждём false, 0 или null
  // if (text === undefined) text = 'текст не передан'; // более строгая проверка
  console.log(text);
}
showMessage(); // текст не передан

// Неизвестное количество параметров — arguments
function sayHi() {
  for (var i = 0; i < arguments.length; i++) {
    console.log( 'Привет, ' + arguments[i] );
  }
}
sayHi('Анка', 'Петруха'); Привет, Анка \n Привет, Петруха

// Именованные аргументы
function showWarning(options) {
  var width = options.width || 200;
  var height = options.height || 100;
  var contents = options.contents || "Предупреждение";
  console.log(width + ' ' + height + ' ' + contents);
}
showWarning({ contents: "Единственный переданный параметр" }); // 200 100 Единственный переданный параметр

// Функцию можно скопировать в переменную
function square(number) {
  return number * number;
}
var func = square; // внимание, нет скобок (нет вызова)
func(2); // 4

// У функции не обязательно должно быть имя
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}
ask(
  'Вы согласны?',
  function() { console.log('Вы согласились.'); },
  function() { console.log('Вы отменили выполнение.'); }
);
```



## Function Declaration и Function Expression

### Function Declaration

Такая функция создаётся на этапе подготовки к запуску, поэтому доступна для вызова до того, как написана.

```js
function sayHi(user) {
  console.log( "Hi, " + user );
};
```

### Function Expression

Такая функция добавляется только в момент срабатывания оператора присваивания (`=`).

```js
var sayHi = function(user) {
  console.log( "Hi, " + user );
};
```
